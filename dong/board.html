<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>ì‚¬ìš©ì í›„ê¸° / íŒ / ì •ë³´ ê²Œì‹œíŒ</title>
		<link rel="stylesheet" href="css/board.css">
	</head>
	
	<body>
		<!--í—¤ë” ì˜ì—­-->
		<header class="header">
			<div class="container">
				<div class="header-inner">
					<div class="logo-box">
						<img src="#" alt="ë¡œê³ " class="logo-icon">
						<span class="logo">IT JOB</span>
					</div>
					<div>
						<button class="alarm-button">ğŸ””</button>
						<button class="logout-button">ğŸ‘¤</button>
					</div>
				</div>
			</div>
		</header>

		<!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
		<div class="container">
			<div class="board-header">
				<h1 class="board-title">ì‚¬ìš©ì í›„ê¸° / íŒ / ì •ë³´ ê²Œì‹œíŒ</h1>
				<div class="header-actions">
					<div class="search-box">
						<input type="text" class="search-input" placeholder="ê²Œì‹œê¸€ ê²€ìƒ‰...">
						<button class="search-btn">ğŸ”</button>
					</div>
					<button class="view-toggle-btn" onclick="toggleView()">ì¹´ë“œí˜• ë³´ê¸°</button>
				</div>
			</div>
			
			 <!-- í•„í„° ë° ì¹´í…Œê³ ë¦¬ ì˜ì—­ -->
			<div class="board-filters">
				<div class="category-filter">
					<button class="category-btn active" data-category="all">ì „ì²´</button>
					<button class="category-btn" data-category="review">í›„ê¸°</button>
					<button class="category-btn" data-category="tip">íŒ</button>
					<button class="category-btn" data-category="info">ì •ë³´</button>
				</div>
				<div class="sort-filter">
					<button class="sort-btn active" data-sort="latest">ìµœì‹ ìˆœ</button>
					<button class="sort-btn" data-sort="popular">ì¸ê¸°ìˆœ</button>
					<button class="sort-btn" data-sort="comments">ëŒ“ê¸€ìˆœ</button>
				</div>
			</div>
			
			<a href="write.html" class="write-btn">ê¸€ì“°ê¸°</a>
			
			<div class="board-grid"></div>
			<div class="post-list"></div>
		</div>

		<!-- í‘¸í„° ì˜ì—­ -->
		<footer class="main-footer">
			<div class="footer-container">
				<div class="footer-logo">IT JOB</div>
				<p>Â© 2024 IT JOB. All rights reserved.</p>
			</div>
		</footer>

		<script>
			// ê²Œì‹œê¸€ ë°ì´í„° ì´ˆê¸°í™”
			function initializePosts() {
				if (!localStorage.getItem('posts')) {
					const samplePosts = [
						{
							id: 1,
							category: 'review',
							title: 'IT íšŒì‚¬ ì·¨ì—… í›„ê¸°',
							content: 'ì§€ë‚œ ë‹¬ì— IT íšŒì‚¬ì— ì·¨ì—…í–ˆìŠµë‹ˆë‹¤. ë©´ì ‘ ì¤€ë¹„ë¶€í„° ì…ì‚¬ê¹Œì§€ì˜ ê³¼ì •ì„ ê³µìœ í•©ë‹ˆë‹¤.',
							author: 'ê¹€ê°œë°œ',
							date: '2024-03-20',
							views: 156,
							likes: 23,
							comments: 8,
							image: null
						},
						{
							id: 2,
							category: 'tip',
							title: 'ì½”ë”© í…ŒìŠ¤íŠ¸ ì¤€ë¹„ íŒ',
							content: 'ì½”ë”© í…ŒìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•˜ëŠ” ë¶„ë“¤ì„ ìœ„í•œ ì‹¤ì „ íŒì„ ê³µìœ í•©ë‹ˆë‹¤.',
							author: 'ë°•ì½”ë”©',
							date: '2024-03-19',
							views: 234,
							likes: 45,
							comments: 12,
							image: null
						},
						{
							id: 3,
							category: 'info',
							title: '2024ë…„ IT íŠ¸ë Œë“œ ë¶„ì„',
							content: 'ì˜¬í•´ ì£¼ëª©í•  ë§Œí•œ IT ê¸°ìˆ  íŠ¸ë Œë“œì™€ ì „ë§ì„ ë¶„ì„í•´ë´…ë‹ˆë‹¤.',
							author: 'ì´ì •ë³´',
							date: '2024-03-18',
							views: 189,
							likes: 32,
							comments: 15,
							image: null
						},
						{
							id: 4,
							category: 'review',
							title: 'ì‹ ì… ê°œë°œì ì²« ë‹¬ íšŒê³ ',
							content: 'ì‹ ì… ê°œë°œìë¡œ ì…ì‚¬í•œ ì§€ í•œ ë‹¬ì´ ì§€ë‚¬ìŠµë‹ˆë‹¤. ë°°ìš´ ì ê³¼ ëŠë‚€ ì ì„ ê³µìœ í•©ë‹ˆë‹¤.',
							author: 'ìµœì‹ ì…',
							date: '2024-03-17',
							views: 145,
							likes: 28,
							comments: 9,
							image: null
						},
						{
							id: 5,
							category: 'tip',
							title: 'Git ì‚¬ìš©ë²• ì •ë¦¬',
							content: 'Gitì„ ì²˜ìŒ ì‚¬ìš©í•˜ëŠ” ë¶„ë“¤ì„ ìœ„í•œ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.',
							author: 'ì •ê¹ƒ',
							date: '2024-03-16',
							views: 278,
							likes: 56,
							comments: 18,
							image: null
						},
						{
							id: 6,
							category: 'info',
							title: 'IT ìê²©ì¦ ì·¨ë“ ê°€ì´ë“œ',
							content: 'ì·¨ì—…ì— ë„ì›€ì´ ë˜ëŠ” IT ê´€ë ¨ ìê²©ì¦ ì •ë³´ì™€ ì·¨ë“ ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.',
							author: 'í•œìê²©',
							date: '2024-03-15',
							views: 167,
							likes: 34,
							comments: 11,
							image: null
						}
					];
					localStorage.setItem('posts', JSON.stringify(samplePosts));
				}
				renderPosts();
			}

			// ê²Œì‹œê¸€ ë Œë”ë§
			function renderPosts() {
				const posts = JSON.parse(localStorage.getItem('posts') || '[]');
				const postList = document.querySelector('.post-list');
				const boardGrid = document.querySelector('.board-grid');
				
				// ì´ˆê¸°ì—ëŠ” ëª©ë¡í˜• ë³´ê¸°ë¡œ ì„¤ì •
				postList.classList.remove('hidden');
				boardGrid.classList.add('hidden');
				
				const postHTML = posts.map(post => ({
					list: `
						<a href="detail.html?id=${post.id}" class="post-list-item" data-category="${post.category}" data-date="${post.date}" data-likes="${post.likes}" data-comments="${post.comments}">
							<div class="post-list-title">${post.title}</div>
							<div class="post-info">
								<div class="post-meta">
									<span>${post.author}</span> â€¢ 
									<span>${post.date}</span> â€¢ 
									<span>ì¡°íšŒìˆ˜ ${post.views}</span>
								</div>
								<div class="post-actions">
									<span class="like-btn">â¤ï¸ ${post.likes}</span>
									<span class="comment-btn">ğŸ’¬ ${post.comments}</span>
								</div>
							</div>
						</a>
					`,
					card: `
						<a href="detail.html?id=${post.id}" class="post-card" data-category="${post.category}" data-date="${post.date}" data-likes="${post.likes}" data-comments="${post.comments}">
							<div class="post-image-box">
								${post.image ? `<img src="${post.image}" alt="ê²Œì‹œê¸€ ì´ë¯¸ì§€" class="post-thumbnail">` : ''}
							</div>
							<div class="post-content">
								<div class="post-title">${post.title}</div>
								<div class="post-info">
									<div class="post-meta">
										<span>${post.author}</span> â€¢ 
										<span>${post.date}</span> â€¢ 
										<span>ì¡°íšŒìˆ˜ ${post.views}</span>
									</div>
									<div class="post-actions">
										<span class="like-btn">â¤ï¸ ${post.likes}</span>
										<span class="comment-btn">ğŸ’¬ ${post.comments}</span>
									</div>
								</div>
							</div>
						</a>
					`
				}));

				postList.innerHTML = postHTML.map(post => post.list).join('');
				boardGrid.innerHTML = postHTML.map(post => post.card).join('');
			}

			// ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
			document.addEventListener('DOMContentLoaded', () => {
				initializePosts();

				// ì¹´í…Œê³ ë¦¬ í•„í„° ì´ë²¤íŠ¸
				document.querySelector('.category-filter').addEventListener('click', (e) => {
					if (e.target.classList.contains('category-btn')) {
						document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
						e.target.classList.add('active');
						filterByCategory(e.target.dataset.category);
					}
				});

				// ì •ë ¬ ì´ë²¤íŠ¸
				document.querySelector('.sort-filter').addEventListener('click', (e) => {
					if (e.target.classList.contains('sort-btn')) {
						document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));
						e.target.classList.add('active');
						sortBy(e.target.dataset.sort);
					}
				});

				// ì¢‹ì•„ìš” ë²„íŠ¼ ì´ë²¤íŠ¸
				document.querySelector('.board-grid, .post-list').addEventListener('click', (e) => {
					if (e.target.classList.contains('like-btn')) {
						toggleLike(e.target);
					}
				});
			});

			// ë·° ì „í™˜ í•¨ìˆ˜
			function toggleView() {
				const postList = document.querySelector('.post-list');
				const boardGrid = document.querySelector('.board-grid');
				const viewToggleBtn = document.querySelector('.view-toggle-btn');
				
				if (postList.classList.contains('hidden')) {
					postList.classList.remove('hidden');
					boardGrid.classList.add('hidden');
					viewToggleBtn.textContent = 'ì¹´ë“œí˜• ë³´ê¸°';
				} else {
					postList.classList.add('hidden');
					boardGrid.classList.remove('hidden');
					viewToggleBtn.textContent = 'ëª©ë¡í˜• ë³´ê¸°';
				}
			}

			// ì¹´í…Œê³ ë¦¬ í•„í„°ë§ í•¨ìˆ˜
			function filterByCategory(category) {
				const posts = document.querySelectorAll('.post-card, .post-list-item');
				posts.forEach(post => {
					const postCategory = post.getAttribute('data-category');
					post.style.display = (category === 'all' || postCategory === category) ? 'block' : 'none';
				});
			}

			// ì •ë ¬ í•¨ìˆ˜
			function sortBy(criteria) {
				const posts = JSON.parse(localStorage.getItem('posts') || '[]');
				
				posts.sort((a, b) => {
					switch(criteria) {
						case 'latest': return new Date(b.date) - new Date(a.date);
						case 'popular': return b.likes - a.likes;
						case 'comments': return b.comments - a.comments;
						default: return 0;
					}
				});
				
				localStorage.setItem('posts', JSON.stringify(posts));
				renderPosts();
			}

			// ì¢‹ì•„ìš” í† ê¸€ í•¨ìˆ˜
			function toggleLike(element) {
				element.classList.toggle('active');
				const post = element.closest('.post-card, .post-list-item');
				const currentLikes = parseInt(post.getAttribute('data-likes'));
				const newLikes = element.classList.contains('active') ? currentLikes + 1 : currentLikes - 1;
				post.setAttribute('data-likes', newLikes);
				element.textContent = `â¤ï¸ ${newLikes}`;
			}
		</script>
	</body>

</html>